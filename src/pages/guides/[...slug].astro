---
import { getEntry, getCollection } from "astro:content";
import MarkdownLayout from "../../layouts/MarkdownLayout.astro";

export async function getStaticPaths() {
    const guides = await getCollection("guides");
        return guides.map((guide) => ({
            params: { slug: guide.slug },
        }));
}

const { slug } = Astro.params;
const guide = await getEntry("guides", slug);
const { Content } = await guide!.render();
---

<MarkdownLayout title={guide!.data.title} pubDate={guide!.data.pubDate.toLocaleDateString('en-US', { dateStyle: 'medium' })}>
    <Content />
</MarkdownLayout>