---
import { getEntry, getCollection } from "astro:content";
import MarkdownLayout from "../../layouts/MarkdownLayout.astro";
import RamblingDate from "../../components/RamblingDate.astro";

export async function getStaticPaths() {
    const rambling = await getCollection("ramblings");
        return rambling.map((guide) => ({
            params: { slug: guide.slug },
        }));
}

const { slug } = Astro.params;
const rambling = await getEntry("ramblings", slug);
const { Content } = await rambling!.render();
---

<MarkdownLayout title={rambling!.data.title}>
    <RamblingDate ramblingEntry={rambling} />
    <Content />
</MarkdownLayout>